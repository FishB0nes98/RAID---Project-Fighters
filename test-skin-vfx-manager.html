<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkinVFXManager Test</title>
    <style>
        body { font-family: sans-serif; }
        .character-slot { border: 2px solid #ccc; padding: 10px; margin: 10px; transition: all 0.3s ease; }
        .character-slot.skin-applied-schoolgirl_kokoro_holy {
            border-color: gold;
            box-shadow: 0 0 15px gold;
            background-color: #fff8e1;
        }
        #log {
            border: 1px solid #eee;
            padding: 5px;
            height: 200px;
            overflow-y: scroll;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>SkinVFXManager Test</h1>

    <div id="game-container">
        <!-- Mock character slot -->
        <div id="character-slot-schoolgirl_kokoro" class="character-slot" data-character-id="schoolgirl_kokoro">
            Character: Schoolgirl Kokoro
        </div>
    </div>

    <button onclick="testApplySkin()">Apply Holy Skin</button>
    <button onclick="testClearSkins()">Clear Skins</button>

    <h2>Log</h2>
    <div id="log"></div>

    <script src="js/skins/skin-vfx-manager.js"></script>
    <script>
        const log = document.getElementById('log');
        function logMessage(message) {
            log.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
        }

        // Mock the SkinVFXManager if it's not loaded
        if (typeof SkinVFXManager === 'undefined') {
            logMessage("Error: skin-vfx-manager.js failed to load.");
            window.SkinVFXManager = {
                initialize: () => logMessage("Mock SkinVFXManager initialized."),
                applyCharacterSkinVFX: (charId, skinId) => logMessage(`Mock applyCharacterSkinVFX called for ${charId} with skin ${skinId}`),
                clearAllSkinVFX: () => logMessage("Mock clearAllSkinVFX called.")
            };
        } else {
             logMessage("SkinVFXManager loaded successfully.");
        }


        function testApplySkin() {
            const characterId = 'schoolgirl_kokoro';
            const skinId = 'schoolgirl_kokoro_holy';
            logMessage(`Attempting to apply skin '${skinId}' to character '${characterId}'...`);
            SkinVFXManager.applyCharacterSkinVFX(characterId, skinId);
        }

        function testClearSkins() {
            logMessage('Attempting to clear all skin VFX...');
            SkinVFXManager.clearAllSkinVFX();
        }

        // Initialize the manager
        document.addEventListener('DOMContentLoaded', () => {
            try {
                SkinVFXManager.initialize();
                logMessage("SkinVFXManager initialized.");
            } catch (e) {
                logMessage(`Error during SkinVFXManager initialization: ${e.message}`);
            }
        });
    </script>
</body>
</html>
